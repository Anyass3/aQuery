"use strict";function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}var _$=function a(b,c){var d={__init__:function(b,c){var d=this;if(this.__proto__.name="abqueryObject",this.__proto__.constructor=this.__init__,"function"==typeof b)return a.ready(b);if(this.num=1,this.__query__=document,c&&"number"==typeof c?this.num=c:!!c&&a.is_html(c)&&(this.__query__=c),this.query=b||document,this["new"]="string"==typeof b&&a.is_new(b),!this["new"]&&!a.is_html(this.query)){var e,f=a.clean(this.query,!0),g=_slicedToArray(f,2),h=g[0],i=g[1];i?(e=function(a){return d.__query__.querySelectorAll(a)},this.many=!0):e=function(a){return d.__query__.querySelector(a)},a.is_array(h)?(this.$$=h.reduce(function(a,b){return i?[].concat(_toConsumableArray(a),_toConsumableArray(e(b))):[].concat(_toConsumableArray(a),[e(b)])},[]),this.many=!0):this.$$=e(h)}else(1<this.num||a.is_array(this.query))&&(this.many=!0),a.is_html(this.query)?this.$$=this.query:(console.log(b),this.$$=_toConsumableArray(Array(this.num).keys()).reduce(function(a){return[].concat(_toConsumableArray(a),[document.createElement(d.query.slice(1,-1))])},[]),1===this.num&&(this.$$=this.$$[0]));return this.arr=Array.from(this.many?this.$$:[this.$$]),this},show:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.cls,d=void 0===c?"":c,e=b.animate,f=void 0===e?"abquery-show":e,g=b.delay,h=void 0===g?600:g,i=b.keep,j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};return d?this.addClass(d):this.rmClass("abquery-d-none, d-none").rmCss("display"),this.addClass(f),setTimeout(function(){void 0!==i&&i||a.rmClass(f)},h),j(),this},hide:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.cls,d=void 0===c?"":c,e=b.animate,f=void 0===e?"abquery-hide":e,g=b.delay,h=void 0===g?600:g,i=b.keep,j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};return this.addClass(f),setTimeout(function(){d?a.rmClass(d):a.addClass("abquery-d-none"),void 0!==i&&i||a.rmClass(f)},h),j(),this},toggleDisplay:function(){var b=this,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=c.cls,e=void 0===d?"":d;return this.run(function(c){a(c).hasClass(e?e:["abquery-d-none","d-none"],{someClass:!0})?b.show({cls:e}):b.hide({cls:e})})},addClass:function(a){return this.$run(function(a,b){!b.trim()||a.classList.add(b)},a)},hasClass:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=b.someClass,d=b.someEl;return this.$runBool(function(a,b){return a.classList.contains(b)},a,{someArr:void 0!==c&&c,someEl:void 0!==d&&d})},rmClass:function(a){return this.$run(function(a,b){!b.trim()||a.classList.remove(b)},a)},toggleClass:function(a){return this.$run(function(a,b){a.classList.toggle(b)},a)},on:function(b,c){return this.$run(function(b,d){a.on(d,c,b)},b)},css:function(b,c){var d=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2],f=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"!";return[a.split(b)[0].trim(),d?d:!!a.split(b)[1]]};return this.$set(function(c,d,e){if(a.is_array(a.clean(b))||e===void 0)return c.style.getPropertyValue(d);var g="number"==typeof e?[e,!1]:f(e),h=_slicedToArray(g,2),i=h[0],j=h[1];c.style.setProperty(d,i,j?"important":"")},b,c)},rmCss:function(a){return this.$run(function(a,b){a.style.removeProperty(b)},a)},attr:function(b,c){return this.$set(function(c,d,e){return a.is_array(a.clean(b))||void 0===e?c.getAttribute(d):void c.setAttribute(d,e)},b,c)},rmAttr:function(a){return this.$run(function(a,b){a.removeAttribute(b)},a)},appendParent:function(a){return this.$run(function(a,b){b.appendChild(a)},a)},detachParent:function(){return this.run(function(a){a.parentNode.removeChild(a)})},append:function(a){return this.$run(function(a,b){a.appendChild(b)},a)},detach:function(a){return this.$run(function(a,b){a.removeChild(b)},a)},index:function(b){if(a.is_proto(b))return this.arr.indexOf(b.$$);return a.is_html(b)?this.arr.indexOf(b):void console.error("cannot find index of arg")},run:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.delay,d=void 0===c?0:c,e=b.every,f=void 0===e?0:e,g=this.arr;return f?setInterval(function(){return g.forEach(a)},f):d?setTimeout(function(){return g.forEach(a)},d):g.forEach(a),this},$run:function(b,c){var d=this;return c=a.clean(c),a.is_array(c)||(c=[c]),c.forEach(function(a){return d.run(function(c){return b(c,a)})}),this},$runBool:function(b,c){var d=this,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},f=e.someArr,g=e.someEl;a.is_array(c)||(c=[c]);var h=function(a){return void 0!==g&&g?d.arr.some(function(c){return b(c,a)}):d.arr.every(function(c){return b(c,a)})};return void 0!==f&&f?c.some(h):c.every(h)},$set:function(b,c,d){var f=[];c=a.clean(c);var g="string"==typeof c;return this.run(function(h){if(a.is_dict(c))for(var e in c)b(h,e,c[e]);else a.is_array(c)||void 0===d?(g&&(c=[c]),f=[].concat(_toConsumableArray(f),_toConsumableArray(c.reduce(function(a,c){return[].concat(_toConsumableArray(a),[b(h,c)])},[])))):b(h,c,d)}),(a.is_array(c)||g)&&void 0===d?1===this.arr.length&&g?f[0]:f:this},prop:function(b,c){return this.$set(function(c,d,e){if(a.is_array(a.clean(b))||e===void 0)return c[d];try{c[d]=e}catch(a){console.error(a)}},b,c)},get class(){return this.prop("className")},get parent(){return a(this.arr[0].parentNode)},get parents(){var b=Array.from(this.arr.reduce(function(a,b){return a.add(b.parentNode)},new Set));return a(b)},get child(){return a(this.arr[0].childNodes[0])},get children(){var b=[];return this.run(function(a){b=[].concat(_toConsumableArray(b),_toConsumableArray(Array.from(a.childNodes)))}),a(b)},get len(){return this.arr.length},get html(){return this.prop("innerHTML")},get text(){return this.prop("textContent")},get val(){var b=a.form_data(this.$$),c=Object.keys(b);return 1===c.length?b[c[0]]:b},set class(a){this.prop("className",a)},set html(a){this.prop("innerHTML",a)},set text(a){this.prop("textContent",a)},set val(b){this.run(function(c){var d=a.form_value(c,!0);c[d]=b})},$:function(b,c){if(a.is_new(b))return this.$new(b,c);var d=this.arr.reduce(function(c,d){return[].concat(_toConsumableArray(c),_toConsumableArray(a(b,d).arr))},[]);return 1===d.length?a(d[0]):a(d)},$new:function(b,c){var d=a(b,c);return this.append(d.$$),d}};return d.__init__(b,c)};_$.is_proto=function(a){return _$().constructor===a.constructor},_$.is_array=function(a){return[].__proto__===a.__proto__||NodeList===a.__proto__.constructor},_$.is_html=function(a){var b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],c=function(a){return a.__proto__.constructor.toString().includes("HTML")};return b?(_$.is_array(a)||(a=[a]),c(a[0])):c(a)},_$.is_new=function(a){return /^<[a-z]+>$/.test(a)},_$.is_dict=function(a){return{}.__proto__===a.__proto__},_$.obj_text=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";for(var c in a)b+="".concat(c,": ").concat(a[c],"; ").trim();return b},_$.clean=function(a){var b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if("string"!=typeof a)return a;var c=!1;return"*"===a[0]&&(a=a.slice(1),c=!0),a=a.split(",").reduce(function(a,b){return[].concat(_toConsumableArray(a),[b.trim()])},[]),a=1===a.length?a[0]:a,b?[a,c]:a},_$.form_data=function(a){return _$.is_array(a)||(a=[a]),a.reduce(function(a,b){var c=_$.form_value(b);return null===c||"submit"===b.type?a:Object.assign({},a,_defineProperty({},b.name||b.id,c))},{})},_$.form_value=function(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return"INPUT"===a.tagName||"TEXTAREA"===a.tagName?["radio","checkbox"].includes(a.type)?b?"checked":a.checked:"file"===a.type?!0===a.multiple?b?"files":a.files:b?"files[0]":a.files[0]:b?"value":a.value:"SELECT"===a.tagName?b?"select.option.selected":Array.from(a.options).filter(function(a){return a.selected}).map(function(a){return a.value}):null},_$.styleElementId="abquery-stylesheet",_$.css_prefix=function(a){return["","-webkit-","-moz-"].reduce(function(b,c){return b+="".concat(c).concat(a.trim(),";")},"")},_$.init_style_defaults=function(){if(!_$("abquery-init_style_defaults").$$){var a="".concat(_$.css_prefix("animation: abquery-keyframe-show .6s cubic-bezier(0, 0.9, 0.3, 1.2) forwards"),"\n        opacity: 0;").concat(_$.css_prefix("transform: translateY(-4rem) scale(.8)")),b="0% {".concat(_$.css_prefix("transform: scale(1)"),"opacity: 1;}\n        20%{").concat(_$.css_prefix("transform: scale(.9)"),"} 100% {").concat(_$.css_prefix("transform: none"),"opacity: 0;}");return _$.add_keyframes("abquery-keyframe-show","100%{opacity: 1;".concat(_$.css_prefix("transform: none"),"}")),_$.add_style(".abquery-show",a),_$.add_keyframes("abquery-keyframe-hide",b),_$.add_style(".abquery-hide","".concat(_$.css_prefix("animation: abquery-keyframe-hide .6s ease-out"))),_$.add_style(".abquery-d-none","display:none !important").attr("abquery-init_style_defaults",!0)}},_$.gen_frames=function(a,b){return"\n        @keyframes ".concat(a," {").concat(b,"}\n        @-webkit-keyframes ").concat(a," {").concat(b,"}\n        ")},_$.get_styles=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_$.styleElementId,b=_$("#".concat(a));return b.$$||(b=_$["new"]("style").attr({type:"text/css",id:"".concat(a)})),b},_$.add_keyframes=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_$.styleElementId,d=_$.get_styles(c);return d.appendParent(document.head).html+=_$.gen_frames(a,b),d},_$.add_style=function(a,b,c){var d=_$.get_styles(c);return d.appendParent(document.head).html+="".concat(a," {").concat(b,"}"),d},_$.on=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:document;return c.addEventListener(a,b)},_$.ready=function(a){_$.on("DOMContentLoaded",a)},_$["new"]=function(a,b){return _$("<".concat(a,">"),b)},_$.id=function(a){return _$("#".concat(a))},_$.cls=function(a){return _$("*.".concat(a))},_$.att=function(a){return _$("*[".concat(a,"]"))},window.$=_$,_$.init_style_defaults();
